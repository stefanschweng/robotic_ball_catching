function tmpreturn = iiwa_homogeneous_transformation(q, param)
  m = [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0; 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0; 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;];
  t1 = q(1);
  m(1,1) = cos(t1);
  t2 = sin(t1);
  m(1,2) = -t2;
  m(1,3) = 0.0e0;
  m(1,4) = 0.0e0;
  t3 = q(2);
  t4 = cos(t3);
  m(1,5) = m(1,1) * t4;
  t5 = sin(t3);
  t6 = m(1,1) * t5;
  m(1,6) = -t6;
  m(1,7) = m(1,2);
  m(1,8) = t2 * param.d__1;
  t7 = m(1,1) * t4;
  t8 = q(3);
  t9 = cos(t8);
  t11 = sin(t8);
  t12 = t2 * t11;
  m(1,9) = t7 * t9 - t12;
  t14 = t2 * t9;
  m(1,10) = -t11 * t7 - t14;
  m(1,11) = t6;
  m(1,12) = t6 * param.l__2;
  t15 = q(4);
  t16 = cos(t15);
  t18 = sin(t15);
  m(1,13) = t16 * m(1,9) + t18 * t6;
  m(1,14) = t16 * t6 - t18 * m(1,9);
  m(1,15) = -m(1,10);
  t23 = param.l__2 + param.l__3;
  t27 = -param.d__3 * t11 * t4 + t23 * t5;
  m(1,16) = -param.d__3 * t14 + t27 * m(1,1);
  t30 = t4 * t9;
  t32 = t5 * t18;
  t33 = t16 * t30 + t32;
  t34 = q(5);
  t35 = cos(t34);
  t37 = sin(t34);
  t38 = t11 * t37;
  t42 = t35 * t11;
  t44 = t9 * t37;
  t45 = t16 * t42 + t44;
  m(1,17) = (t33 * t35 - t38 * t4) * m(1,1) - t2 * t45;
  t50 = -t33 * t37 - t4 * t42;
  t55 = -t11 * t16 * t37 + t35 * t9;
  m(1,18) = -t2 * t55 + t50 * m(1,1);
  m(1,19) = m(1,14);
  t58 = param.l__4 * t16 + param.l__2 + param.l__3;
  t63 = -param.l__4 * t18 * t4 * t9 + t5 * t58;
  t65 = t18 * param.l__4;
  m(1,20) = t12 * t65 + t63 * m(1,1);
  t69 = t16 * t35 * t9 - t38;
  t71 = t35 * t5;
  t72 = t71 * t18;
  t73 = t4 * t69 + t72;
  t74 = q(6);
  t75 = cos(t74);
  t77 = sin(t74);
  t81 = -t18 * t4 * t9 + t16 * t5;
  m(1,21) = (t73 * t75 - t77 * t81) * m(1,1) - (t11 * t18 * t77 + t45 * t75) * t2;
  t90 = -t69;
  t94 = t75 * t81;
  t95 = (t4 * t90 - t72) * t77 - t94;
  t98 = t75 * t11;
  t100 = -t18 * t98 + t45 * t77;
  t101 = t100 * t2;
  m(1,22) = t95 * m(1,1) + t101;
  m(1,23) = m(1,18);
  t104 = param.l__4 + param.l__5;
  t106 = param.d__5 * t18 * t37 + t104 * t16 + param.l__2 + param.l__3;
  t111 = t16 * t44 + t42;
  t115 = t106 * t5 + (-t104 * t18 * t9 + param.d__5 * t111) * t4;
  t120 = t104 * t11 * t18 + param.d__5 * t55;
  m(1,24) = t115 * m(1,1) + t120 * t2;
  t122 = t35 * t75;
  t124 = t18 * t77;
  t125 = t122 * t16 + t124;
  t127 = t98 * t37;
  t128 = t125 * t9 - t127;
  t132 = -t122 * t18 + t16 * t77;
  t133 = t5 * t132;
  t134 = t128 * t4 - t133;
  t135 = q(7);
  t136 = cos(t135);
  t138 = sin(t135);
  t141 = t111 * t4 + t32 * t37;
  t148 = t37 * t75 * t9 + t11 * t125;
  m(1,25) = (t134 * t136 - t138 * t141) * m(1,1) - t2 * (t136 * t148 + t138 * t55);
  t155 = -t125 * t9 + t127;
  t160 = (t155 * t4 + t133) * t138 - t136 * t141;
  t165 = t136 * t55 - t138 * t148;
  m(1,26) = t160 * m(1,1) - t165 * t2;
  t168 = t73 * t77 + t94;
  m(1,27) = t168 * m(1,1) - t101;
  t170 = t77 * param.l__6;
  t173 = param.l__6 * t75 + param.l__4 + param.l__5;
  t177 = t173 * t16;
  t183 = (t170 * t71 - t173 * t30) * t18 + (t177 + param.l__2 + param.l__3) * t5 + t4 * t77 * param.l__6 * t69;
  t188 = -t11 * t173 * t18 + t170 * t45;
  m(1,28) = t183 * m(1,1) - t188 * t2;
  m(1,29) = m(1,25);
  m(1,30) = m(1,26);
  m(1,31) = m(1,27);
  t190 = param.l__6 + param.l__7;
  t191 = t190 * t77;
  t194 = t190 * t75 + param.l__4 + param.l__5;
  t200 = t69 * t77;
  t202 = t194 * t16;
  t205 = (-t194 * t4 * t9 + t191 * t71) * t18 + t4 * t190 * t200 + (t202 + param.l__2 + param.l__3) * t5;
  t210 = -t11 * t18 * t194 + t191 * t45;
  m(1,32) = -t2 * t210 + t205 * m(1,1);
  m(2,1) = -m(1,7);
  m(2,2) = m(1,1);
  m(2,3) = 0.0e0;
  m(2,4) = 0.0e0;
  m(2,5) = t2 * t4;
  t212 = t2 * t5;
  m(2,6) = -t212;
  m(2,7) = m(2,2);
  m(2,8) = -m(2,7) * param.d__1;
  t214 = t2 * t4;
  t216 = m(2,7) * t11;
  m(2,9) = t214 * t9 + t216;
  t218 = m(2,7) * t9;
  m(2,10) = -t11 * t214 + t218;
  m(2,11) = t212;
  m(2,12) = t212 * param.l__2;
  m(2,13) = t11 * t16 * m(2,7) + t2 * t33;
  m(2,14) = t16 * t212 - t18 * m(2,9);
  m(2,15) = -m(2,10);
  m(2,16) = param.d__3 * t218 + t2 * t27;
  m(2,17) = t35 * m(2,13) - t37 * m(2,15);
  t230 = m(2,7) * t55;
  m(2,18) = t2 * t50 + t230;
  m(2,19) = m(2,14);
  m(2,20) = t2 * t63 - t216 * t65;
  m(2,21) = (t2 * t73 + t45 * m(2,7)) * t75 - (-t18 * t216 + t2 * t81) * t77;
  t242 = t100 * m(2,7);
  m(2,22) = t2 * t95 - t242;
  m(2,23) = m(2,18);
  m(2,24) = t115 * t2 - t120 * m(2,7);
  m(2,25) = (t134 * t2 + t148 * m(2,7)) * t136 - t138 * (t141 * t2 - t230);
  m(2,26) = t160 * t2 + t165 * m(2,7);
  m(2,27) = t168 * t2 + t242;
  m(2,28) = t183 * t2 + t188 * m(2,7);
  m(2,29) = m(2,25);
  m(2,30) = m(2,26);
  m(2,31) = m(2,27);
  m(2,32) = t2 * t205 + t210 * m(2,7);
  m(3,1) = 0.0e0;
  m(3,2) = 0.0e0;
  m(3,3) = 0.1e1;
  m(3,4) = param.l__0;
  m(3,5) = -t5;
  m(3,6) = -t4;
  m(3,7) = 0.0e0;
  m(3,8) = param.l__0 + param.l__1;
  t259 = t5 * t9;
  m(3,9) = -t259;
  m(3,10) = t5 * t11;
  m(3,11) = t4;
  m(3,12) = param.l__2 * m(3,11) + param.l__0 + param.l__1;
  m(3,13) = -t16 * t259 + t18 * m(3,11);
  m(3,14) = t16 * m(3,11) + t18 * t259;
  m(3,15) = -m(3,10);
  t266 = t5 * t11;
  m(3,16) = param.d__3 * t266 + t23 * m(3,11) + param.l__0 + param.l__1;
  t269 = t35 * t18;
  m(3,17) = t269 * m(3,11) + t5 * t90;
  m(3,18) = t266 * t35 - t37 * m(3,13);
  m(3,19) = m(3,14);
  m(3,20) = t259 * t65 + t58 * m(3,11) + param.l__0 + param.l__1;
  m(3,21) = t75 * m(3,17) - t77 * m(3,19);
  t279 = t75 * t18 * t9;
  t285 = m(3,11) * (t124 * t35 + t16 * t75);
  m(3,22) = (t200 - t279) * t5 - t285;
  m(3,23) = m(3,18);
  m(3,24) = t106 * m(3,11) + ((-param.d__5 * t16 * t37 + t104 * t18) * t9 - param.d__5 * t35 * t11) * t5 + param.l__0 + param.l__1;
  t297 = -t132;
  t302 = t18 * t37;
  m(3,25) = (t155 * t5 + t297 * m(3,11)) * t136 + (t111 * t5 - t302 * m(3,11)) * t138;
  m(3,26) = (t111 * t136 + t128 * t138) * t5 - (t136 * t302 + t138 * t297) * m(3,11);
  m(3,27) = (t77 * t90 + t279) * t5 + t285;
  m(3,28) = (t170 * t269 + param.l__2 + param.l__3 + t177) * m(3,11) + ((-t16 * t170 * t35 + t173 * t18) * t9 + t38 * t170) * t5 + param.l__0 + param.l__1;
  m(3,29) = m(3,25);
  m(3,30) = m(3,26);
  m(3,31) = m(3,27);
  t328 = t35 * t77;
  m(3,32) = (t18 * t190 * t328 + param.l__2 + param.l__3 + t202) * m(3,11) + ((-t16 * t190 * t328 + t18 * t194) * t9 + t38 * t191) * t5 + param.l__0 + param.l__1;
  tmpreturn = m;
