function tmpreturn = iiwa_homogeneous_transformation(q, param)
  m = [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0; 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0; 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;];
  t1 = q(1);
  m(1,1) = cos(t1);
  t2 = sin(t1);
  m(1,2) = -t2;
  m(1,3) = 0.0e0;
  m(1,4) = 0.0e0;
  t3 = q(2);
  t4 = cos(t3);
  m(1,5) = t4 * m(1,1);
  t5 = sin(t3);
  t6 = t5 * m(1,1);
  m(1,6) = -t6;
  m(1,7) = m(1,2);
  m(1,8) = param.d__1 * t2;
  t7 = t4 * m(1,1);
  t8 = q(3);
  t9 = cos(t8);
  t11 = sin(t8);
  m(1,9) = -t11 * t2 + t7 * t9;
  t14 = t9 * t2;
  m(1,10) = -t11 * t7 - t14;
  m(1,11) = t6;
  m(1,12) = param.l__2 * t6;
  t15 = q(4);
  t16 = cos(t15);
  t18 = sin(t15);
  m(1,13) = t16 * m(1,9) + t18 * t6;
  m(1,14) = t16 * t6 - t18 * m(1,9);
  m(1,15) = -m(1,10);
  t23 = param.l__2 + param.l__3;
  t27 = -param.d__3 * t11 * t4 + t23 * t5;
  m(1,16) = -param.d__3 * t14 + t27 * m(1,1);
  t30 = t9 * t4;
  t32 = t18 * t5;
  t33 = t16 * t30 + t32;
  t34 = q(5);
  t35 = cos(t34);
  t37 = sin(t34);
  t38 = t37 * t11;
  t42 = t11 * t35;
  t44 = t9 * t37;
  t45 = t16 * t42 + t44;
  m(1,17) = m(1,1) * (t33 * t35 - t38 * t4) - t45 * t2;
  t50 = -t33 * t37 - t4 * t42;
  t52 = t16 * t11;
  t55 = t35 * t9 - t37 * t52;
  m(1,18) = -t2 * t55 + t50 * m(1,1);
  m(1,19) = m(1,14);
  t58 = param.l__4 * t16 + param.l__2 + param.l__3;
  t60 = t18 * t9;
  t63 = -param.l__4 * t4 * t60 + t5 * t58;
  t65 = t11 * t18;
  m(1,20) = param.l__4 * t2 * t65 + t63 * m(1,1);
  t70 = t16 * t35 * t9 - t38;
  t72 = t5 * t35;
  t73 = t18 * t72;
  t74 = t4 * t70 + t73;
  t75 = q(6);
  t76 = cos(t75);
  t78 = sin(t75);
  t81 = t16 * t5 - t4 * t60;
  m(1,21) = m(1,1) * (t74 * t76 - t78 * t81) - t2 * (t45 * t76 + t65 * t78);
  t89 = -t70;
  t93 = t81 * t76;
  t94 = t78 * (t4 * t89 - t73) - t93;
  t97 = t11 * t76;
  t99 = -t18 * t97 + t45 * t78;
  t100 = t2 * t99;
  m(1,22) = t94 * m(1,1) + t100;
  m(1,23) = m(1,18);
  t103 = param.l__4 + param.l__5;
  t105 = param.d__5 * t18 * t37 + t103 * t16 + param.l__2 + param.l__3;
  t110 = t16 * t44 + t42;
  t114 = t5 * t105 + (-t103 * t18 * t9 + param.d__5 * t110) * t4;
  t119 = t103 * t11 * t18 + param.d__5 * t55;
  m(1,24) = t114 * m(1,1) + t119 * t2;
  t121 = t76 * t35;
  t124 = t121 * t16 + t18 * t78;
  t126 = t37 * t97;
  t127 = t124 * t9 - t126;
  t131 = -t121 * t18 + t16 * t78;
  t132 = t131 * t5;
  t133 = t127 * t4 - t132;
  t134 = q(7);
  t135 = cos(t134);
  t139 = t110 * t4 + t32 * t37;
  t140 = sin(t134);
  t147 = t37 * t76 * t9 + t11 * t124;
  m(1,25) = m(1,1) * (t133 * t135 - t139 * t140) - t2 * (t135 * t147 + t140 * t55);
  t154 = -t124 * t9 + t126;
  t159 = t140 * (t154 * t4 + t132) - t135 * t139;
  t164 = t135 * t55 - t140 * t147;
  m(1,26) = t159 * m(1,1) - t164 * t2;
  t167 = t74 * t78 + t93;
  m(1,27) = t167 * m(1,1) - t100;
  t169 = t78 * t35;
  t173 = param.l__6 * t76 + param.l__4 + param.l__5;
  t177 = t16 * t173;
  t183 = t18 * (param.l__6 * t169 * t5 - t173 * t30) + t5 * (t177 + param.l__2 + param.l__3) + t70 * param.l__6 * t78 * t4;
  t187 = param.l__6 * t78;
  t189 = -t11 * t173 * t18 + t187 * t45;
  m(1,28) = t183 * m(1,1) - t189 * t2;
  m(1,29) = m(1,25);
  m(1,30) = m(1,26);
  m(1,31) = m(1,27);
  t191 = param.l__6 + param.l__7;
  t192 = t78 * t191;
  t195 = t191 * t76 + param.l__4 + param.l__5;
  t200 = t78 * t70;
  t202 = t16 * t195;
  t205 = t18 * (t192 * t72 - t195 * t30) + t200 * t191 * t4 + (t202 + param.l__2 + param.l__3) * t5;
  t210 = -t11 * t18 * t195 + t192 * t45;
  m(1,32) = -t2 * t210 + t205 * m(1,1);
  m(2,1) = -m(1,7);
  m(2,2) = m(1,1);
  m(2,3) = 0.0e0;
  m(2,4) = 0.0e0;
  m(2,5) = t4 * t2;
  t212 = t5 * t2;
  m(2,6) = -t212;
  m(2,7) = m(2,2);
  m(2,8) = -param.d__1 * m(2,7);
  t214 = t4 * t2;
  m(2,9) = t11 * m(2,7) + t214 * t9;
  t218 = t9 * m(2,7);
  m(2,10) = -t11 * t214 + t218;
  m(2,11) = t212;
  m(2,12) = param.l__2 * t212;
  m(2,13) = t2 * t33 + t52 * m(2,7);
  m(2,14) = t16 * t212 - t18 * m(2,9);
  m(2,15) = -m(2,10);
  m(2,16) = param.d__3 * t218 + t2 * t27;
  m(2,17) = t35 * m(2,13) - t37 * m(2,15);
  t229 = t55 * m(2,7);
  m(2,18) = t2 * t50 + t229;
  m(2,19) = m(2,14);
  m(2,20) = -param.l__4 * t65 * m(2,7) + t2 * t63;
  m(2,21) = t76 * (t2 * t74 + t45 * m(2,7)) - (t2 * t81 - t65 * m(2,7)) * t78;
  t242 = t99 * m(2,7);
  m(2,22) = t2 * t94 - t242;
  m(2,23) = m(2,18);
  m(2,24) = t114 * t2 - t119 * m(2,7);
  m(2,25) = t135 * (t133 * t2 + t147 * m(2,7)) - (t139 * t2 - t229) * t140;
  m(2,26) = t159 * t2 + t164 * m(2,7);
  m(2,27) = t167 * t2 + t242;
  m(2,28) = t183 * t2 + t189 * m(2,7);
  m(2,29) = m(2,25);
  m(2,30) = m(2,26);
  m(2,31) = m(2,27);
  m(2,32) = t2 * t205 + t210 * m(2,7);
  m(3,1) = 0.0e0;
  m(3,2) = 0.0e0;
  m(3,3) = 0.1e1;
  m(3,4) = param.l__0;
  m(3,5) = -t5;
  m(3,6) = -t4;
  m(3,7) = 0.0e0;
  m(3,8) = param.l__0 + param.l__1;
  t259 = t9 * t5;
  m(3,9) = -t259;
  m(3,10) = t11 * t5;
  m(3,11) = t4;
  m(3,12) = param.l__2 * m(3,11) + param.l__0 + param.l__1;
  m(3,13) = -t16 * t259 + t18 * m(3,11);
  m(3,14) = t16 * m(3,11) + t18 * t259;
  m(3,15) = -m(3,10);
  t266 = t11 * t5;
  m(3,16) = param.d__3 * t266 + t23 * m(3,11) + param.l__0 + param.l__1;
  t269 = t18 * t35;
  m(3,17) = t269 * m(3,11) + t5 * t89;
  m(3,18) = t266 * t35 - t37 * m(3,13);
  m(3,19) = m(3,14);
  m(3,20) = param.l__4 * t5 * t60 + t58 * m(3,11) + param.l__0 + param.l__1;
  m(3,21) = t76 * m(3,17) - t78 * m(3,19);
  t280 = t9 * t18 * t76;
  t286 = (t16 * t76 + t269 * t78) * m(3,11);
  m(3,22) = t5 * (t200 - t280) - t286;
  m(3,23) = m(3,18);
  m(3,24) = m(3,11) * t105 + t5 * (t9 * (-param.d__5 * t16 * t37 + t103 * t18) - t11 * t35 * param.d__5) + param.l__0 + param.l__1;
  t298 = -t131;
  m(3,25) = t135 * (t154 * t5 + t298 * m(3,11)) + (-t18 * t37 * m(3,11) + t110 * t5) * t140;
  m(3,26) = t5 * (t110 * t135 + t127 * t140) - m(3,11) * (t135 * t18 * t37 + t140 * t298);
  m(3,27) = t5 * (t78 * t89 + t280) + t286;
  m(3,28) = m(3,11) * (t187 * t269 + param.l__2 + param.l__3 + t177) + t5 * (t9 * (-t16 * t187 * t35 + t173 * t18) + t38 * t187) + param.l__0 + param.l__1;
  m(3,29) = m(3,25);
  m(3,30) = m(3,26);
  m(3,31) = m(3,27);
  m(3,32) = m(3,11) * (t169 * t18 * t191 + param.l__2 + param.l__3 + t202) + t5 * (t9 * (-t16 * t169 * t191 + t18 * t195) + t192 * t38) + param.l__0 + param.l__1;
  tmpreturn = m;
