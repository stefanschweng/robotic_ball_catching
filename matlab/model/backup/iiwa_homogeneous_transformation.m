function tmpreturn = iiwa_homogeneous_transformation(q, param)
  m = [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0; 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0; 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;];
  t1 = q(1);
  m(1,1) = cos(t1);
  t2 = sin(t1);
  m(1,2) = -t2;
  m(1,3) = 0.0e0;
  m(1,4) = 0.0e0;
  t3 = q(2);
  t4 = cos(t3);
  m(1,5) = t4 * m(1,1);
  t5 = sin(t3);
  t6 = t5 * m(1,1);
  m(1,6) = -t6;
  m(1,7) = m(1,2);
  m(1,8) = param.d__1 * t2;
  t7 = t4 * m(1,1);
  t8 = q(3);
  t9 = cos(t8);
  t11 = sin(t8);
  m(1,9) = -t11 * t2 + t7 * t9;
  t14 = t9 * t2;
  m(1,10) = -t11 * t7 - t14;
  m(1,11) = t6;
  m(1,12) = param.l__2 * t6;
  t15 = q(4);
  t16 = cos(t15);
  t18 = sin(t15);
  m(1,13) = t16 * m(1,9) + t18 * t6;
  m(1,14) = t16 * t6 - t18 * m(1,9);
  m(1,15) = -m(1,10);
  t23 = param.l__2 + param.l__3;
  t27 = -param.d__3 * t11 * t4 + t23 * t5;
  m(1,16) = -param.d__3 * t14 + t27 * m(1,1);
  t30 = t9 * t4;
  t32 = t18 * t5;
  t33 = t16 * t30 + t32;
  t34 = q(5);
  t35 = cos(t34);
  t37 = sin(t34);
  t38 = t37 * t11;
  t42 = t11 * t35;
  t45 = t16 * t42 + t37 * t9;
  m(1,17) = m(1,1) * (t33 * t35 - t38 * t4) - t45 * t2;
  t50 = -t33 * t37 - t4 * t42;
  t52 = t16 * t11;
  t55 = t35 * t9 - t37 * t52;
  m(1,18) = -t2 * t55 + t50 * m(1,1);
  m(1,19) = m(1,14);
  t58 = param.l__4 * t16 + param.l__2 + param.l__3;
  t60 = t18 * t9;
  t63 = -param.l__4 * t4 * t60 + t5 * t58;
  t65 = t11 * t18;
  m(1,20) = param.l__4 * t2 * t65 + t63 * m(1,1);
  t70 = t16 * t35 * t9 - t38;
  t72 = t5 * t35;
  t73 = t18 * t72;
  t74 = t4 * t70 + t73;
  t75 = q(6);
  t76 = cos(t75);
  t78 = sin(t75);
  t81 = t16 * t5 - t4 * t60;
  m(1,21) = m(1,1) * (t74 * t76 - t78 * t81) - (t45 * t76 + t65 * t78) * t2;
  t89 = -t70;
  t93 = t81 * t76;
  t94 = t78 * (t4 * t89 - t73) - t93;
  t97 = t11 * t76;
  t99 = -t18 * t97 + t45 * t78;
  t100 = t99 * t2;
  m(1,22) = t94 * m(1,1) + t100;
  m(1,23) = m(1,18);
  t103 = param.l__4 + param.l__5;
  t105 = param.d__5 * t18 * t37 + t103 * t16 + param.l__2 + param.l__3;
  t111 = t16 * t37 * t9 + t42;
  t115 = t5 * t105 + (-t103 * t18 * t9 + param.d__5 * t111) * t4;
  t120 = t103 * t11 * t18 + param.d__5 * t55;
  m(1,24) = t115 * m(1,1) + t120 * t2;
  t122 = t76 * t35;
  t125 = t122 * t16 + t18 * t78;
  t127 = t37 * t97;
  t128 = t125 * t9 - t127;
  t132 = -t122 * t18 + t16 * t78;
  t133 = t132 * t5;
  t134 = t128 * t4 - t133;
  t135 = q(7);
  t136 = cos(t135);
  t138 = sin(t135);
  t141 = t111 * t4 + t32 * t37;
  t148 = t37 * t76 * t9 + t11 * t125;
  m(1,25) = m(1,1) * (t134 * t136 - t138 * t141) - (t136 * t148 + t138 * t55) * t2;
  t155 = -t125 * t9 + t127;
  t160 = t138 * (t155 * t4 + t133) - t141 * t136;
  t165 = t136 * t55 - t138 * t148;
  m(1,26) = t160 * m(1,1) - t165 * t2;
  t168 = t74 * t78 + t93;
  m(1,27) = t168 * m(1,1) - t100;
  t170 = t78 * t35;
  t174 = param.l__6 * t76 + param.l__4 + param.l__5;
  t178 = t16 * t174;
  t184 = t18 * (param.l__6 * t170 * t5 - t174 * t30) + t5 * (t178 + param.l__2 + param.l__3) + t70 * param.l__6 * t78 * t4;
  t188 = param.l__6 * t78;
  t190 = -t11 * t174 * t18 + t188 * t45;
  m(1,28) = t184 * m(1,1) - t190 * t2;
  m(1,29) = m(1,25);
  m(1,30) = m(1,26);
  m(1,31) = m(1,27);
  t192 = param.l__6 + param.l__7;
  t193 = t78 * t192;
  t196 = t192 * t76 + param.l__4 + param.l__5;
  t202 = t78 * t70;
  t204 = t16 * t196;
  t207 = t18 * (-t196 * t4 * t9 + t193 * t72) + t202 * t192 * t4 + (t204 + param.l__2 + param.l__3) * t5;
  t212 = -t11 * t18 * t196 + t193 * t45;
  m(1,32) = -t2 * t212 + t207 * m(1,1);
  m(2,1) = -m(1,7);
  m(2,2) = m(1,1);
  m(2,3) = 0.0e0;
  m(2,4) = 0.0e0;
  m(2,5) = t4 * t2;
  t214 = t5 * t2;
  m(2,6) = -t214;
  m(2,7) = m(2,2);
  m(2,8) = -param.d__1 * m(2,7);
  t216 = t4 * t2;
  m(2,9) = t11 * m(2,7) + t216 * t9;
  t220 = t9 * m(2,7);
  m(2,10) = -t11 * t216 + t220;
  m(2,11) = t214;
  m(2,12) = param.l__2 * t214;
  m(2,13) = t2 * t33 + t52 * m(2,7);
  m(2,14) = t16 * t214 - t18 * m(2,9);
  m(2,15) = -m(2,10);
  m(2,16) = param.d__3 * t220 + t2 * t27;
  m(2,17) = t35 * m(2,13) - t37 * m(2,15);
  t231 = t55 * m(2,7);
  m(2,18) = t2 * t50 + t231;
  m(2,19) = m(2,14);
  m(2,20) = -param.l__4 * t65 * m(2,7) + t2 * t63;
  m(2,21) = t76 * (t2 * t74 + t45 * m(2,7)) - (t2 * t81 - t65 * m(2,7)) * t78;
  t244 = m(2,7) * t99;
  m(2,22) = t2 * t94 - t244;
  m(2,23) = m(2,18);
  m(2,24) = t115 * t2 - t120 * m(2,7);
  m(2,25) = t136 * (t134 * t2 + t148 * m(2,7)) - (t141 * t2 - t231) * t138;
  m(2,26) = t160 * t2 + t165 * m(2,7);
  m(2,27) = t168 * t2 + t244;
  m(2,28) = t184 * t2 + t190 * m(2,7);
  m(2,29) = m(2,25);
  m(2,30) = m(2,26);
  m(2,31) = m(2,27);
  m(2,32) = t2 * t207 + t212 * m(2,7);
  m(3,1) = 0.0e0;
  m(3,2) = 0.0e0;
  m(3,3) = 0.1e1;
  m(3,4) = param.l__0;
  m(3,5) = -t5;
  m(3,6) = -t4;
  m(3,7) = 0.0e0;
  m(3,8) = param.l__0 + param.l__1;
  t261 = t9 * t5;
  m(3,9) = -t261;
  m(3,10) = t11 * t5;
  m(3,11) = t4;
  m(3,12) = param.l__2 * m(3,11) + param.l__0 + param.l__1;
  m(3,13) = -t16 * t261 + t18 * m(3,11);
  m(3,14) = t16 * m(3,11) + t18 * t261;
  m(3,15) = -m(3,10);
  t268 = t11 * t5;
  m(3,16) = param.d__3 * t268 + t23 * m(3,11) + param.l__0 + param.l__1;
  t271 = t18 * t35;
  m(3,17) = t271 * m(3,11) + t5 * t89;
  m(3,18) = t268 * t35 - t37 * m(3,13);
  m(3,19) = m(3,14);
  m(3,20) = param.l__4 * t5 * t60 + t58 * m(3,11) + param.l__0 + param.l__1;
  m(3,21) = t76 * m(3,17) - t78 * m(3,19);
  t282 = t9 * t18 * t76;
  t288 = (t16 * t76 + t271 * t78) * m(3,11);
  m(3,22) = t5 * (t202 - t282) - t288;
  m(3,23) = m(3,18);
  m(3,24) = m(3,11) * t105 + t5 * (t9 * (-param.d__5 * t16 * t37 + t103 * t18) - t11 * t35 * param.d__5) + param.l__0 + param.l__1;
  t300 = -t132;
  m(3,25) = t136 * (t155 * t5 + t300 * m(3,11)) + (-t18 * t37 * m(3,11) + t111 * t5) * t138;
  m(3,26) = t5 * (t111 * t136 + t128 * t138) - m(3,11) * (t136 * t18 * t37 + t138 * t300);
  m(3,27) = t5 * (t78 * t89 + t282) + t288;
  m(3,28) = m(3,11) * (t188 * t271 + param.l__2 + param.l__3 + t178) + t5 * (t9 * (-t16 * t188 * t35 + t174 * t18) + t188 * t38) + param.l__0 + param.l__1;
  m(3,29) = m(3,25);
  m(3,30) = m(3,26);
  m(3,31) = m(3,27);
  m(3,32) = m(3,11) * (t170 * t18 * t192 + param.l__2 + param.l__3 + t204) + t5 * (t9 * (-t16 * t170 * t192 + t18 * t196) + t193 * t38) + param.l__0 + param.l__1;
  tmpreturn = m;
